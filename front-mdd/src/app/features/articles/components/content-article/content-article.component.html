<main class="flex flex-column align-items-center gap-2 mx-0 sm:mx-2">
  <header class="w-full flex gap-2 align-items-center">
    <p-button (onClick)="goBack()" icon="pi pi-arrow-left" styleClass="p-button-accent-color p-0" size="large" [rounded]="true" [text]="true"/>
    <h2 class="m-0 text-2xl font-semibold">
      {{article.title | titlecase }}</h2>
  </header>
  <article *ngIf="article" class="w-full px-3 sm:pl-6">
    <ul class="list-none p-0 flex flex-wrap gap-6 row-gap-2 text-xl">
      <li>{{article.createdAt | date}}</li>
      <li>{{article.author | titlecase }}</li>
      <li>{{article.theme.title | titlecase}}</li>
    </ul>
    <p>{{article.content}}</p>
  </article>
  <div class="px-3 sm:pl-6 w-full my-4 flex">
    <span class="borderColor w-full"></span>
  </div>
  <section *ngIf="comments" class="text-xl w-full px-3 sm:pl-6">
    <h3 class="m-0 font-normal">Commentaires</h3>
    <ul class="list-none p-0" *ngFor="let comment of comments">
      <li class="flex flex-column-reverse sm:flex-row gap-4 ml-2 sm:ml-8">
        <span class="ml-auto sm:m-0">{{comment.authorUsername}}</span>
        <p class="m-0 customBackground">{{comment.content}}</p>
      </li>
    </ul>
  </section>
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()" class="formgrid grid w-full mt-6 sm:my-6 align-items-center borderCustom sm:border-none">
    <p-message *ngIf="errorMessage" severity="error" icon="pi pi-times-circle" styleClass="mb-2" class="p-2 mb-2 col-12">{{errorMessage}}</p-message>
    <textarea class="col-10 sm:col-7 sm:col-offset-2 p-3 textareaColor border-none sm:border-1" autoResize="true" rows="6" pTextarea formControlName="content" placeholder="Ecrivez ici votre commentaire"></textarea>
    <p-button class="col-2" type="submit" styleClass="p-0" [text]="true" [disabled]="formGroup.invalid">
      <span class="pi pi-send buttonSize"></span>
    </p-button>
  </form>
</main>
